<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Netwrk Ventures - Forms</title>
    <!-- Incluye tus archivos CSS aquí -->
    <style>
        /* Estilos simples para mensajes de estado */
        .status-message {
            margin-top: 10px;
            font-weight: bold;
        }

        /* Estilos para el área de drag & drop */
        .drag-drop-area {
            border: 2px dashed #ccc;
            border-radius: 5px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            margin-top: 10px;
        }

        .drag-drop-area.dragover {
            border-color: #000;
            background-color: #f0f0f0;
        }

        /* Ocultar el input de archivo */
        #company-deck-input {
            display: none;
        }
    </style>
</head>

<body>

    <!-- FORM 1: Invest With Us -->
    <form id="form1" method="POST" action="assets/php/sendForm.php" novalidate>
        <input type="hidden" name="form_id" value="form1">

        <div class="form-inputs">
            <h4>Invest With Us - Contact Information</h4>
            <div class="row-input">
                <div class="column-input">
                    <label for="fullname1">Full Name <span>(Founder/Primary Contact)</span></label>
                    <input type="text" id="fullname1" name="fullname" required>
                </div>
                <div class="column-input">
                    <label for="email1">Email Address</label>
                    <input type="email" id="email1" name="email" required>
                </div>
            </div>
        </div>
        <input type="submit" value="Submit">
    </form>

    <!-- Mensaje de estado para Formulario 1 -->
    <div id="status-message1" class="status-message"></div>

    <hr>

    <!-- FORM 2: Apply for Funding -->
    <form id="form2" method="POST" action="assets/php/sendForm.php" enctype="multipart/form-data" novalidate>
        <input type="hidden" name="form_id" value="form2">

        <div class="form-inputs">
            <h4>Apply for Funding - Contact Information</h4>
            <div class="row-input">
                <div class="column-input">
                    <label for="fullname2">Full Name <span>(Founder/Primary Contact)</span></label>
                    <input type="text" id="fullname2" name="fullname" required>
                </div>
                <div class="column-input">
                    <label for="email2">Email Address</label>
                    <input type="email" id="email2" name="email" required>
                </div>
            </div>
        </div>

        <div class="form-inputs">
            <h4>Company Information</h4>
            <div class="row-input">
                <div class="column-input">
                    <label for="company-name">Company Name</label>
                    <input type="text" id="company-name" name="company-name" required>
                </div>
            </div>
            <div class="row-input">
                <div class="column-input">
                    <label for="current-round">Current Round</label>
                    <input type="text" id="current-round" name="current-round">
                </div>
                <div class="column-input">
                    <label for="raise-amount">Raise Amount</label>
                    <input type="text" id="raise-amount" name="raise-amount">
                </div>
            </div>
            <div class="row-input">
                <div class="column-input">
                    <label for="valuation">Valuation</label>
                    <input type="text" id="valuation" name="valuation">
                </div>
                <div class="column-input">
                    <label for="revenue">Revenue</label>
                    <input type="text" id="revenue" name="revenue">
                </div>
            </div>
            <div class="row-input">
                <div class="column-input">
                    <label for="elevator-pitch">Elevator Pitch</label>
                    <textarea id="elevator-pitch" name="elevator-pitch"></textarea>
                </div>
                <div class="column-input">
                    <label for="company-deck">Company Deck</label>
                    <!-- Área de drag & drop personalizada -->
                    <div class="drag-drop-area" id="company-deck">
                        <p class="mob-no">Drag & drop or browse a file <img src="assets/img/clip.svg" alt="Clip"></p>
                        <p class="mob-ok">Upload file <img src="assets/img/clip.svg" alt="Clip"></p>
                        <input type="file" id="company-deck-input" name="company-deck"
                            accept=".pdf,.doc,.docx,.jpg,.jpeg,.png">
                    </div>
                </div>
            </div>
            <input type="submit" value="Submit">
        </div>
    </form>

    <!-- Mensaje de estado para Formulario 2 -->
    <div id="status-message2" class="status-message"></div>

    <!-- JavaScript para manejar el envío de formularios y la interacción con drag & drop -->
    <script>
        // Función para manejar el drag & drop
        function setupDragDropArea(dragDropElement, fileInput) {
            dragDropElement.addEventListener('dragover', function (e) {
                e.preventDefault();
                e.stopPropagation();
                dragDropElement.classList.add('dragover');
            });

            dragDropElement.addEventListener('dragleave', function (e) {
                e.preventDefault();
                e.stopPropagation();
                dragDropElement.classList.remove('dragover');
            });

            dragDropElement.addEventListener('drop', function (e) {
                e.preventDefault();
                e.stopPropagation();
                dragDropElement.classList.remove('dragover');
                if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {
                    fileInput.files = e.dataTransfer.files;
                    dragDropElement.querySelector('.mob-no').style.display = 'none';
                    dragDropElement.querySelector('.mob-ok').style.display = 'block';
                }
            });

            // Click para abrir el selector de archivos
            dragDropElement.addEventListener('click', function () {
                fileInput.click();
            });

            // Cambio en el input de archivo
            fileInput.addEventListener('change', function () {
                if (fileInput.files && fileInput.files.length > 0) {
                    dragDropElement.querySelector('.mob-no').style.display = 'none';
                    dragDropElement.querySelector('.mob-ok').style.display = 'block';
                } else {
                    dragDropElement.querySelector('.mob-no').style.display = 'block';
                    dragDropElement.querySelector('.mob-ok').style.display = 'none';
                }
            });
        }

        // Configurar el área de drag & drop para Formulario 2
        const dragDropArea = document.getElementById('company-deck');
        const fileInput = document.getElementById('company-deck-input');
        setupDragDropArea(dragDropArea, fileInput);

        // Función para enviar formularios vía AJAX
        function sendFormAjax(form, statusDivId) {
            const statusDiv = document.getElementById(statusDivId);
            statusDiv.textContent = "Sending...";
            statusDiv.style.display = "block";

            const formData = new FormData(form);

            fetch(form.action, {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    if (data.status === "success") {
                        statusDiv.innerHTML = `<span style="color:green">${data.message}</span>`;
                        form.reset();

                        // Resetear el área de drag & drop
                        if (form.id === 'form2') {
                            dragDropArea.querySelector('.mob-no').style.display = 'block';
                            dragDropArea.querySelector('.mob-ok').style.display = 'none';
                        }

                        // Ocultar el mensaje después de 5 segundos
                        setTimeout(() => {
                            statusDiv.style.display = "none";
                            statusDiv.textContent = "";
                        }, 5000);
                    } else {
                        statusDiv.innerHTML = `<span style="color:red">${data.message}</span>`;

                        // Ocultar el mensaje después de 7 segundos
                        setTimeout(() => {
                            statusDiv.style.display = "none";
                            statusDiv.textContent = "";
                        }, 7000);
                    }
                })
                .catch(error => {
                    statusDiv.innerHTML = `<span style="color:red">Error: ${error}</span>`;

                    // Ocultar el mensaje después de 7 segundos
                    setTimeout(() => {
                        statusDiv.style.display = "none";
                        statusDiv.textContent = "";
                    }, 7000);
                });
        }

        // Asignar eventos de envío a los formularios
        document.getElementById('form1').addEventListener('submit', function (event) {
            event.preventDefault();
            sendFormAjax(this, 'status-message1');
        });

        document.getElementById('form2').addEventListener('submit', function (event) {
            event.preventDefault();
            sendFormAjax(this, 'status-message2');
        });
    </script>

</body>

</html>